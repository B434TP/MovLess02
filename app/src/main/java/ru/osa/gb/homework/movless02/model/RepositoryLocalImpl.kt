package ru.osa.gb.homework.movless02.model

import android.util.Log
import com.google.gson.Gson
import ru.osa.gb.homework.movless02.model.data.SearchByTitleDTO

class RepositoryLocalImpl : Repository {

    // Тестовый пример реального ответа API на будущее
    var answer: String =
        "{\"searchType\":\"Title\",\"expression\":\"lost 2004\",\"results\":[{\"id\":\"tt0411008\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BNzhlY2E5NDUtYjJjYy00ODg3LWFkZWQtYTVmMzU4ZWZmOWJkXkEyXkFqcGdeQXVyNTA4NzY1MzY@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost\",\"description\":\"(2004–2010)\"},{\"id\":\"tt0423505\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZDBlNGQ3YzQtNDBiOS00NzI3LTg3YmYtNmZlYjJjN2JkOWZjXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Wake Up, Ron Burgundy\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0777269\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BOTJlNTZiMDctZDhiMi00YTdhLTljMjItYjgxZjM1YzE3ZWFiXkEyXkFqcGdeQXVyNjc5ODUzODU@._V1_Ratio0.7200_AL_.jpg\",\"title\":\"The Robinsons: Lost in Space\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0433537\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMWFkYTIyZmQtMDAwNC00MGE3LWI0NDctOTVjYjE1MWU5YjU3XkEyXkFqcGdeQXVyNjExODE1MDc@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Clerks: The Lost Scene\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0435150\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMzY3YTc4MzMtMTRlMS00MzNjLTkzNjQtZWUwMjA2YWMwZjliXkEyXkFqcGdeQXVyMzU2NzcwMjQ@._V1_Ratio1.2400_AL_.jpg\",\"title\":\"The Lost Tape: Andy's Terrifying Last Days Revealed\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0406942\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMjE4NTA4NzQ4NF5BMl5BanBnXkFtZTcwMjIwOTEzMQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost\",\"description\":\"(I) (2004)\"},{\"id\":\"tt0418933\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTI4NTMyMTk0OF5BMl5BanBnXkFtZTcwODQ4MDcyMQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost Reality\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0366137\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTI4OTM3Mzg0Ml5BMl5BanBnXkFtZTcwNDkyNDMzMQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost Embrace\",\"description\":\"(2004)\"},{\"id\":\"tt0391143\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZmZjNTliZDEtOTEwYS00NjU1LTlmMmMtZmE0NTNiMjIwMDk1XkEyXkFqcGdeQXVyNDEzMTI3MTU@._V1_Ratio0.7200_AL_.jpg\",\"title\":\"Lost Generation\",\"description\":\"(2004)\"},{\"id\":\"tt0963183\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTgzNjU0NjU0M15BMl5BanBnXkFtZTcwMzE2MjQ0MQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost: Black Earth\",\"description\":\"(2004)\"},{\"id\":\"tt0400738\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BYjhiM2FmNzQtZGFjNC00M2RhLWE4YjctYWM4ZGY4NDExNDkyXkEyXkFqcGdeQXVyMzM4MjM0Nzg@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Pitfall: The Lost Expedition\",\"description\":\"(2004 Video Game)\"},{\"id\":\"tt0406514\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTU3Njc2ODg5Nl5BMl5BanBnXkFtZTcwMzM1ODUyMQ@@._V1_Ratio0.7200_AL_.jpg\",\"title\":\"Adventures of Young Van Helsing: The Quest for the Lost Scepter\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0445095\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BOTZmZWFlZGQtNjM0NS00Y2I4LTk5MmEtODZiN2MyZGMwNDQ5XkEyXkFqcGdeQXVyMTkzODUwNzk@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Bruja and the Lost City of Gold\",\"description\":\"(2004)\"},{\"id\":\"tt0419925\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BYTVjZjlkNWItMjJhMS00NTAxLWFkM2UtZjc5YTdhOTQwNjI1XkEyXkFqcGdeQXVyMjQ0NzE0MQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost on Location: Behind the Scenes of 'Lost in Translation'\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0422962\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTM4OTE4NjM1M15BMl5BanBnXkFtZTcwNTU3NzgyMQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Pirate Kids: Blackbeard's Lost Treasure\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0444234\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMDVhZTNkOWYtZDkyMS00YzVjLThhNGEtNWY4OWYzZDVmMmM3XkEyXkFqcGdeQXVyMjQ5NjgwMjA@._V1_Ratio0.7600_AL_.jpg\",\"title\":\"The Lost Boys: A Retrospective\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0406108\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Obey the Lost Skeleton!\",\"description\":\"(2004 Video)\"},{\"id\":\"tt1537232\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"City of Lost Angels\",\"description\":\"(2004 Video)\"},{\"id\":\"tt4191116\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Vanished in the Mist: Lost Newfoundland - Life in the Undertow 1825 to 1929 (Part 2)\",\"description\":\"(2004)\"},{\"id\":\"tt16452994\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BYzE2NDM0YmEtMGY3Ni00ZmEzLTljNzAtOWU4YTRlYTQ1ODA2XkEyXkFqcGdeQXVyMTI0MzIzNzA1._V1_Ratio0.6800_AL_.jpg\",\"title\":\"The 69 Eyes: Lost Boys\",\"description\":\"(2004 Music Video)\"},{\"id\":\"tt0453907\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Shin Sung-Il is Lost\",\"description\":\"(2004)\"},{\"id\":\"tt5955402\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BM2JiZWFiYjUtZGUzNi00MjAwLWE3YTYtNDQ1YjQ2YzhjMjc1XkEyXkFqcGdeQXVyNDU0ODI1NjQ@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"The Lost Disc: Becoming Barbossa\",\"description\":\"(2004 Video)\"},{\"id\":\"tt5034800\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZmY5Y2U2ODMtODY1Ny00NTdmLWJlNDYtMmNmNWNkOGRkZDQ2XkEyXkFqcGdeQXVyNDAwODEwMDE@._V1_Ratio1.3600_AL_.jpg\",\"title\":\"A Day in the Life of a Lost Boy\",\"description\":\"(2004)\"},{\"id\":\"tt1830453\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BNTVlNTRkNjMtMjgxNS00Zjg0LWJjMjAtMTEwNTQ5NTFmYzRmXkEyXkFqcGdeQXVyODYzMzYzNzM@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"1:1.6 An Ode to Lost Love\",\"description\":\"(2004)\"},{\"id\":\"tt3813994\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZmVmMjM2NTgtNzFlNC00YWE2LThiNWUtZjlkOWQ5NjQzMWY3XkEyXkFqcGdeQXVyMjUxNzk5MjM@._V1_Ratio1.7600_AL_.jpg\",\"title\":\"Lost Half\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0426518\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTIyMDU5NDE2N15BMl5BanBnXkFtZTcwMzI3ODgyMQ@@._V1_Ratio0.7600_AL_.jpg\",\"title\":\"The Lost Cause\",\"description\":\"(2004)\"},{\"id\":\"tt1003035\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Pharaoh's Revenge: Egypt's Lost Treasure\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt1332714\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost Nuke\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt10479464\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BNGEyYzI4MmUtMGQxYS00ZTdkLTkwMGYtMDFiY2Q5NjUxMmQwXkEyXkFqcGdeQXVyNzYxNzI3MTg@._V1_Ratio1.2400_AL_.jpg\",\"title\":\"Lost\",\"description\":\"(III) (2004)\"},{\"id\":\"tt0454940\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Search for the Lost Fighter Plane\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt1634120\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"In Gedanken - Lost in Thought\",\"description\":\"(2004)\"},{\"id\":\"tt0418869\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Mano Mano 3: Arnis the Lost Art\",\"description\":\"(2004)\"},{\"id\":\"tt0468850\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost My Way\",\"description\":\"(2004)\"},{\"id\":\"tt4191282\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Vanished in the Mist: Lost Newfoundland - The Tidal Waves 1929 On (Part 3)\",\"description\":\"(2004)\"},{\"id\":\"tt1719674\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTg3Njk3MDM5OV5BMl5BanBnXkFtZTgwNjQwNTA2MDE@._V1_Ratio1.2400_AL_.jpg\",\"title\":\"The Luck of Lost Wife Creek\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0391303\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"The Lost Girl Society\",\"description\":\"(2004)\"},{\"id\":\"tt0420423\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost Buildings of Britain\",\"description\":\"(2004– )\"},{\"id\":\"tt0471197\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTEyMDc1MDAyNDZeQTJeQWpwZ15BbWU3MDUzNDc2OTE@._V1_Ratio0.7200_AL_.jpg\",\"title\":\"Hitler's Lost Plan\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt1344838\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Getting Lost\",\"description\":\"(2004)\"},{\"id\":\"tt0426282\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZjEzYWI4NWUtNWNkYy00MWMxLTkyNWUtMTFkNjczNDY4MDBmL2ltYWdlXkEyXkFqcGdeQXVyNTMwNDA4OQ@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Lost\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0426417\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"The Boy Who Lost His Song\",\"description\":\"(2004)\"},{\"id\":\"tt0763315\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BMTYzMTg5ODY4M15BMl5BanBnXkFtZTcwNTA5Mzk5Mw@@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"The Lost Samurai\",\"description\":\"(2004)\"},{\"id\":\"tt0422664\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost Angeles\",\"description\":\"(2004)\"},{\"id\":\"tt1512213\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost and Found\",\"description\":\"(I) (2004)\"},{\"id\":\"tt10968794\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BZDE2ZjUxMjctMjY2YS00N2E0LThjMGMtYjBiMWI1ZGE0YWUxXkEyXkFqcGdeQXVyMTk5MjAyMjM@._V1_Ratio0.7600_AL_.jpg\",\"title\":\"The Lost Season\",\"description\":\"(2004)\"},{\"id\":\"tt1211980\",\"resultType\":\"Title\",\"image\":\"https://m.media-amazon.com/images/M/MV5BN2QyOTg3YWUtYjNiZS00YWIzLTg4MjMtYzhiZTBmYjM4NDBmXkEyXkFqcGdeQXVyNzIzODM3ODQ@._V1_Ratio0.6800_AL_.jpg\",\"title\":\"Les Dawson's Lost Diaries\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0818664\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Childhood Lost: The Story of Canada's Home Children\",\"description\":\"(2004 TV Movie)\"},{\"id\":\"tt0416937\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"The Lost Generation\",\"description\":\"(2004)\"},{\"id\":\"tt1529661\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Tartuffe. the Lost Film\",\"description\":\"(2004 Video)\"},{\"id\":\"tt0818857\",\"resultType\":\"Title\",\"image\":\"https://imdb-api.com/images/original/nopicture.jpg\",\"title\":\"Lost Child\",\"description\":\"(2004)\"}],\"errorMessage\":\"\"}"
    private var Tag = "MYREPO"

    // Возвращает конкретный фильм по его id
    override fun getMovieById(id: String): Movie {
        TODO("Not yet implemented")
    }

    // Поиск фильмов из базы по названию
    override fun getMoviesListByTitle(searchString: String): List<Movie> {

        return getListFromSearchResult(answer);
    }

    // Возвращает список фильмов из результатов поиска
    private fun getListFromSearchResult(GSONResult: String): List<Movie> {
        val searchResDTO: SearchByTitleDTO =
            Gson().fromJson(GSONResult, SearchByTitleDTO::class.java)
        Log.d(Tag, "searchResDTO: ${searchResDTO.results}")

        return searchResDTO.results
    }
}



